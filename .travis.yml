language: node_js

cache:
  directories:
    - node_modules

node_js:
  - '6'

script:
  - npm run lint
  - npm run test
  - npm run spell-check
  - npm run build release

deploy:
  - provider: s3
    access_key_id: $AWS_ACCESS_KEY_ID
    secret_access_key: $AWS_SECRET_ACCESS_KEY
    bucket:
      secure: "sDNpK1vQJw0PL0/SSNpX7S280MCk/K5ghy/BYoy/Vem7qR461/obX0vW1u+IoLm6lmCskLP9jN8Kn4N6wQtjJsH24cXW5SR9GnkZDuJEcChAV2HWe3uS8Q//+u6+xASVorGhEe45GUuZB9tHxmIWTK54TRgzkYfYm5JlqKq3zIsN6VbhJwctu7RG+bWOrc9b1l7uIZEVvasb+yuUz6PMwoTJfIGgoA64tLcOrPCQtyTEvqPI73+/iLIovpS1aSZotXxQSOr/Clfn1PYwkcAEkiPWAL250gEMdJUyqX1bhSRPc4ZVQ6REphh4b6AADqI3uG9s9Y4tOHqoY1PPfQySvWQMkpdgudStTNEIz/XmAYg1mzkt7VRMHhARu2xd8bf5iSeNMvrHce56G3+0L54xZCxDF8XsFpXtDaa9nm5UbosgDlemzmKYnFrZpnEsO8yP3wEBhQwwakgnQgCMMNkAGU9sDNZfJAOCx2uKs3t9I9hd8E1O4PbRfhfU5UIpOuCfIScJwRBbiPprM+j0GCvidTlntrnRRNPlpo3V19UioWspeqgQ1DZvj6m7m12sxYpOTTMUEVzPN8suOH/qX5OL2l1dBFVz9iKCHW85O2PbsEwFtKPx5fMf2YxnWgqgE4H5gUURqb6dnY/EZ4hsgkgHEmligYiQHHzZs57jAbhsOmM="
    skip_cleanup: true
    acl: public_read
    local_dir: build
    on:
      repo: SkygearIO/skygear-doc
      branch: restructure

notifications:
  slack:
    secure: "qpitj7wBLxf4veJr6yeK2Sago2cIuqn39LDaYGS9vhIDAB8/Kc2PV1Fztxl3TsuatqZBkNnMzPFOXKQjU6chj9F/5hb2WWfnF695iGdoA3pfKl45ayd5loDU3ZmzAwJT3zMbe7G/DdVMQ/PItuI511lZq/S6mtUaFdvDQQQsskOUrZBCxc0cJkgETg4MNhznYYyDdo5U5qI5aupb6DLGoy6LIOnWhjfK7opVekke0Dv64p3FO40PMeZmm/JmzSIJTebBPNRdELJvx8C/N7wKecezqz8xN+ajDHE9PqU8mKcFY3zyrAicZNuLMExAf+bKZztXMbZDovU+jNU5x5a7mIh4sHSDjoT3KK06A7mYnVjtnP+okLlrfjRYmcWwttzGNyAZUhNiC5B88WMn11NfLowZTPEZPY+4lmG8BW28nQKki0EwWlKDltbKAUYhJ+OzpVChyJVaCvoE0P8hlujEczJ7G7FwAfNh+5v/z71JbOubLNds4hdZ6ryuPWzvfsMApzyxukrGcJYDjlMIVBSnp/mli5bDMrBlWa8Ak4CLBPA/PlvrOKdij81pxde3pKSR3/4VOJBN8bqY2PFf4dxOqdZ5uZg4LQLTnNpAa08Pf++VthJlVOkaGRxKTfQi/nLRudKHxP16guksMCphML6gm3SV3ckFHesoZoiS7F6BIkE="

env:
  global:
    # AWS_ACCESS_KEY_ID
    - secure: "u/3cyaOW8G4C3/oMSrWPNDEU6CcCmhPSweDwc1EEf/ch0jVC4LfQxtE9kLQRNO9uxCUOgZohMvBn+pArw7b6VPSjnMUhB6rldfjK7R2k+tLH/eSnkCQYaETLoZDqquJmzfrYcFd++pdSwZ8hFRgAOG7UkbII+cK88Q7ZYVeP6HwElLTm+zmyk7S56PQoohGVRgfJbSK34hLJfXMAG7n1nk+WckRX0CmmTMyZlrNOj6XeehXiZLhxY3/uKz0LvMv6ZLK3TgPtwz6jDrUi3uDn1Be6q4DrD3nkcmxjIRrmtvaxYYDw/Ulheg+eOuQwfMvr2RiUgeYOMDCqgqO2ljoMEvcZEBEc41WqHFakDHKWBOA4ideicVY1Y6QWpUah2p/ATPaPi3j0JkMtm3eer60+587viGfyomiH7YoeO5hUAXopipd0cmy+VzEzE7Jvw7vfes4isG+g7JWvKLh6L97tX9YhtmLcffqAmb8p7jJzn9kFMdRAYd+zsAgf0miQDUtDnhT/BTxHHafYvrTXOL+iAm9AVazyLr1XqsPtY2NxhhIK46ePEB6ivpqCaKnrVcvSVdxPTRvcQgnmz36MF4/OXLVz95x8kUOzrK0a8+OP8w7+M+iGcic0zZdMqG7iFKv6zRthx67wGgg71VzmPaqhHa6fxHAj6w7VEK68NJ/6fjg="
    # AWS_SECRET_ACCESS_KEY
    - secure: "RLHv4JHUu9dEtzH2vxTCaIZeFV0cGAxg559HxIO1IrdjDtnQD3h64u9PY0Ad5qRQaBoykuvXhy+3b9tDphX6OpWIWP7s30sniLOxpnRuAnoZHFTZ3KPjN5D9d37nwElGeydwtpoLePuhyuk6InatSG7I3rDAJNDbaLAUQLDtRERQslB9EKZNcGD9eAcjQYxf6LARfUjlYbBnBbGWMsGiOlKBRgGkDlRXqT0QEWK98oBiumPx6/uD3r4v7KL9BEXTudE581YdECfmH7nmcYo+PWWgzdGEHBvMc3deMdCYc4pHQOewEncBX2UStAIby6+t11q3FGgdedpsCTOli8R+O/lwcmWGNS6DXFwSwuV7aAeUKJMdFd4+of5kYSFdyzmW5alByEIWK5XlJwCFZUGnu5aSgYFLz/VXlA8a5oJbyChrZ+iuDaQvolaSr97OFGNX9IXrP2hN0M8Iee3O1EduOLw7bDJxX1B/NJfiQ5ipSJ0V4TeSo9DCpaKD6DZeVR7J5o144hygrnS8W8cEqSOUMjmRmXv9SISP17QMUEkNUreb6gAo3mm58rRzXStmvbj5cIalIsXyxpC/kvOZfhWgq1cSA22q3GQTtb2NEFx4OezgK6ic+qpY/LF3ci2F3aSlUiewRBluHDz8Fv5yzw1h82w2Rau0tfIivqU1geCSA/8="
